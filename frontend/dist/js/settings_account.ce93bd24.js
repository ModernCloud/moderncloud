(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["settings_account"],{"661a":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("div",{staticClass:"content"},[t._m(0),a("section",{staticClass:"with-divider"},[a("h3",[t._v("Current Plan")]),t.subscriptionLoading?a("p",[t._v("Loading...")]):t._e(),!1===t.subscriptionLoading&&t.subscription?a("div",[a("p",[t._v(" You are currently on "),a("strong",{staticStyle:{"font-weight":"500"}},[t._v(t._s(t.packageName))]),t._v(" plan."),a("br"),a("router-link",{attrs:{to:"/settings/plans"}},[t._v("Views plans and upgrade "),a("IconArrowNarrowRight")],1)],1),t._m(1)]):t._e()]),a("section",[a("h3",[t._v("Billing History")]),t.invoicesLoading?a("p",[t._v("Loading...")]):t._e(),!1===t.invoicesLoading&&0===t.invoices.length?a("p",[t._v("There are no invoices to display.")]):t._e(),!1===t.invoicesLoading&&t.invoices.length>0?a("table",{staticClass:"table table-bordered"},[t._m(2),a("tbody",t._l(t.invoices,(function(e){return a("tr",{key:e.number},[a("td",[a("a",{attrs:{href:e.invoice_pdf,target:"_blank"}},[t._v(t._s(e.number))])]),a("td",{staticStyle:{"text-align":"right"}},[t._v("$ "+t._s(e.total))]),e.is_paid?a("td",{staticClass:"text-success",staticStyle:{"text-align":"center"}},[t._v("Paid")]):t._e(),!1===e.is_paid?a("td",{staticClass:"text-danger",staticStyle:{"text-align":"center"}},[t._v("Unpaid")]):t._e(),a("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(t.parseDate(e.due_date)))]),a("td",{staticStyle:{"text-align":"right"}},[t._v(t._s(t.parseDate(e.created)))])])})),0)]):t._e()])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("div",[a("div",{staticClass:"title"},[t._v("Billing")]),a("div",{staticClass:"subtitle"},[t._v("Manage your billing information and invoices")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("For questions about billing, contact "),a("a",{attrs:{href:"mailto:contact@moderncloud.io"}},[t._v("contact@moderncloud.io")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{width:"130px"}},[t._v("#")]),a("th",{staticStyle:{"text-align":"right"}},[t._v("Amount")]),a("th",{staticStyle:{"text-align":"center",width:"60px"}},[t._v("Status")]),a("th",{staticStyle:{"text-align":"right",width:"150px"}},[t._v("Due")]),a("th",{staticStyle:{"text-align":"right",width:"150px"}},[t._v("Created")])])])}],i=a("1da1"),s=(a("96cf"),a("2463")),o=a("bc3a"),c=a.n(o),l=a("c1df"),u=a.n(l),d={components:{IconArrowNarrowRight:s["a"]},data:function(){return{subscriptionLoading:!0,invoicesLoading:!0,invoices:[],subscription:null}},computed:{packageName:function(){var t=" (Trial)";return this.subscription.package_name+(this.subscription.is_trial?t:"")}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.loadSubscription();case 2:return e.next=4,t.loadInvoices();case 4:case"end":return e.stop()}}),e)})))()},methods:{loadSubscription:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.subscriptionLoading=!0,e.prev=1,e.next=4,c.a.get("/api/auth/current-subscription");case 4:a=e.sent,t.subscription=a.data.subscription,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:t.subscriptionLoading=!1;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()},loadInvoices:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.invoicesLoading=!0,e.prev=1,e.next=4,c.a.get("/api/auth/invoices");case 4:a=e.sent,t.invoices=a.data.invoices,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:t.invoicesLoading=!1;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()},parseDate:function(t){return t?u.a.unix(t).format("D MMM Y HH:mm:ss"):"-"}}},v=d,m=a("2877"),p=Object(m["a"])(v,r,n,!1,null,null,null);e["default"]=p.exports},f613:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("div",{staticClass:"content"},[t._m(0),!1===t.initialized?a("p",[t._v("Loading...")]):t._e(),t.initialized?a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[t.hasError?a("div",{staticClass:"alert alert-danger"},[t._v("An error occurred!")]):t._e(),a("div",{staticClass:"mb-2"},[a("label",{staticClass:"form-label"},[t._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}})]),a("div",{staticClass:"mb-2"},[a("label",{staticClass:"form-label"},[t._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}})]),a("div",{staticClass:"mb-2"},[a("label",{staticClass:"form-check-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.showPasswordField,expression:"showPasswordField"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.showPasswordField)?t._i(t.showPasswordField,null)>-1:t.showPasswordField},on:{change:function(e){var a=t.showPasswordField,r=e.target,n=!!r.checked;if(Array.isArray(a)){var i=null,s=t._i(a,i);r.checked?s<0&&(t.showPasswordField=a.concat([i])):s>-1&&(t.showPasswordField=a.slice(0,s).concat(a.slice(s+1)))}else t.showPasswordField=n}}}),t._v(" Change Password ")])]),t.showPasswordField?a("div",{staticClass:"mb-2"},[a("label",{staticClass:"form-label"},[t._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}})]):t._e(),a("div",[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:t.loading},on:{click:t.submit}},[t.loading?a("span",{staticClass:"spinner-grow spinner-grow-sm",attrs:{role:"status","aria-hidden":"true"}}):t._e(),t._v(" Save ")])])]):t._e()])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("div",[a("div",{staticClass:"title"},[t._v("Account")]),a("div",{staticClass:"subtitle"},[t._v("Update your account information")])])])}],i=a("1da1"),s=(a("b0c0"),a("96cf"),a("bc3a")),o=a.n(s),c={data:function(){return{initialized:!1,loading:!0,hasError:!1,showPasswordField:!1,form:{name:null,email:null,password:null}}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.loadUser();case 2:case"end":return e.stop()}}),e)})))()},methods:{loadUser:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,o.a.get("/api/auth/my-info");case 4:a=e.sent,t.form.name=a.data.user.name,t.form.email=a.data.user.email,e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](1),console.log(e.t0),t.hasError=!0;case 13:return e.prev=13,t.initialized=!0,t.loading=!1,e.finish(13);case 17:case"end":return e.stop()}}),e,null,[[1,9,13,17]])})))()},submit:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,t.hasError=!1,e.prev=2,e.next=5,o.a.post("/api/auth/my-info",t.form);case 5:a=e.sent,t.$store.commit("updateUser",a.data),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](2),t.hasError=!0,t.loading=!1;case 13:return e.prev=13,t.loading=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})))()}}},l=c,u=a("2877"),d=Object(u["a"])(l,r,n,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=settings_account.ce93bd24.js.map