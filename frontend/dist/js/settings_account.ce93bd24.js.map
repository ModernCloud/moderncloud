{"version":3,"sources":["webpack:///./src/views/dashboard/Settings/Billing.vue?1931","webpack:///src/views/dashboard/Settings/Billing.vue","webpack:///./src/views/dashboard/Settings/Billing.vue?382e","webpack:///./src/views/dashboard/Settings/Billing.vue","webpack:///./src/views/dashboard/Settings/Account.vue?a194","webpack:///src/views/dashboard/Settings/Account.vue","webpack:///./src/views/dashboard/Settings/Account.vue?80b5","webpack:///./src/views/dashboard/Settings/Account.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_v","_e","subscriptionLoading","subscription","staticStyle","_s","packageName","attrs","invoicesLoading","invoices","length","_l","invoice","key","number","invoice_pdf","total","is_paid","parseDate","due_date","created","staticRenderFns","components","data","computed","package_name","is_trial","trial","methods","timestamp","component","initialized","on","$event","preventDefault","submit","directives","name","rawName","value","form","expression","domProps","target","composing","$set","Array","isArray","showPasswordField","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","slice","loading","hasError","email","password"],"mappings":"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","file":"js/settings_account.ce93bd24.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('div',{staticClass:\"content\"},[_vm._m(0),_c('section',{staticClass:\"with-divider\"},[_c('h3',[_vm._v(\"Current Plan\")]),(_vm.subscriptionLoading)?_c('p',[_vm._v(\"Loading...\")]):_vm._e(),(_vm.subscriptionLoading === false && _vm.subscription)?_c('div',[_c('p',[_vm._v(\" You are currently on \"),_c('strong',{staticStyle:{\"font-weight\":\"500\"}},[_vm._v(_vm._s(_vm.packageName))]),_vm._v(\" plan.\"),_c('br'),_c('router-link',{attrs:{\"to\":\"/settings/plans\"}},[_vm._v(\"Views plans and upgrade \"),_c('IconArrowNarrowRight')],1)],1),_vm._m(1)]):_vm._e()]),_c('section',[_c('h3',[_vm._v(\"Billing History\")]),(_vm.invoicesLoading)?_c('p',[_vm._v(\"Loading...\")]):_vm._e(),(_vm.invoicesLoading === false && _vm.invoices.length === 0)?_c('p',[_vm._v(\"There are no invoices to display.\")]):_vm._e(),(_vm.invoicesLoading === false && _vm.invoices.length > 0)?_c('table',{staticClass:\"table table-bordered\"},[_vm._m(2),_c('tbody',_vm._l((_vm.invoices),function(invoice){return _c('tr',{key:invoice.number},[_c('td',[_c('a',{attrs:{\"href\":invoice.invoice_pdf,\"target\":\"_blank\"}},[_vm._v(_vm._s(invoice.number))])]),_c('td',{staticStyle:{\"text-align\":\"right\"}},[_vm._v(\"$ \"+_vm._s(invoice.total))]),(invoice.is_paid)?_c('td',{staticClass:\"text-success\",staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"Paid\")]):_vm._e(),(invoice.is_paid === false)?_c('td',{staticClass:\"text-danger\",staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"Unpaid\")]):_vm._e(),_c('td',{staticStyle:{\"text-align\":\"right\"}},[_vm._v(_vm._s(_vm.parseDate(invoice.due_date)))]),_c('td',{staticStyle:{\"text-align\":\"right\"}},[_vm._v(_vm._s(_vm.parseDate(invoice.created)))])])}),0)]):_vm._e()])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header\"},[_c('div',[_c('div',{staticClass:\"title\"},[_vm._v(\"Billing\")]),_c('div',{staticClass:\"subtitle\"},[_vm._v(\"Manage your billing information and invoices\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"For questions about billing, contact \"),_c('a',{attrs:{\"href\":\"mailto:contact@moderncloud.io\"}},[_vm._v(\"contact@moderncloud.io\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{staticStyle:{\"width\":\"130px\"}},[_vm._v(\"#\")]),_c('th',{staticStyle:{\"text-align\":\"right\"}},[_vm._v(\"Amount\")]),_c('th',{staticStyle:{\"text-align\":\"center\",\"width\":\"60px\"}},[_vm._v(\"Status\")]),_c('th',{staticStyle:{\"text-align\":\"right\",\"width\":\"150px\"}},[_vm._v(\"Due\")]),_c('th',{staticStyle:{\"text-align\":\"right\",\"width\":\"150px\"}},[_vm._v(\"Created\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"page\">\n    <div class=\"content\">\n      <div class=\"header\">\n        <div>\n          <div class=\"title\">Billing</div>\n          <div class=\"subtitle\">Manage your billing information and invoices</div>\n        </div>\n      </div>\n      <section class=\"with-divider\">\n        <h3>Current Plan</h3>\n        <p v-if=\"subscriptionLoading\">Loading...</p>\n        <div v-if=\"subscriptionLoading === false && subscription\">\n          <p>\n            You are currently on <strong style=\"font-weight: 500\">{{packageName}}</strong> plan.<br />\n            <router-link to=\"/settings/plans\">Views plans and upgrade <IconArrowNarrowRight /></router-link>\n          </p>\n          <p>For questions about billing, contact <a href=\"mailto:contact@moderncloud.io\">contact@moderncloud.io</a></p>\n        </div>\n      </section>\n      <section>\n        <h3>Billing History</h3>\n        <p v-if=\"invoicesLoading\">Loading...</p>\n        <p v-if=\"invoicesLoading === false && invoices.length === 0\">There are no invoices to display.</p>\n        <table class=\"table table-bordered\" v-if=\"invoicesLoading === false && invoices.length > 0\">\n          <thead>\n            <tr>\n              <th style=\"width: 130px;\">#</th>\n              <th style=\"text-align: right\">Amount</th>\n              <th style=\"text-align: center; width: 60px;\">Status</th>\n              <th style=\"text-align: right; width: 150px;\">Due</th>\n              <th style=\"text-align: right; width: 150px;\">Created</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"invoice in invoices\" :key=\"invoice.number\">\n              <td><a :href=\"invoice.invoice_pdf\" target=\"_blank\">{{invoice.number}}</a></td>\n              <td style=\"text-align: right\">$ {{invoice.total}}</td>\n              <td style=\"text-align: center;\" class=\"text-success\" v-if=\"invoice.is_paid\">Paid</td>\n              <td style=\"text-align: center\" class=\"text-danger\" v-if=\"invoice.is_paid === false\">Unpaid</td>\n              <td style=\"text-align: right\">{{ parseDate(invoice.due_date) }}</td>\n              <td style=\"text-align: right\">{{ parseDate(invoice.created) }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </section>\n    </div>\n  </div>\n</template>\n\n<script>\nimport IconArrowNarrowRight from \"@/components/Icons/IconArrowNarrowRight\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nexport default {\n  components: {IconArrowNarrowRight},\n  data() {\n    return {\n      subscriptionLoading: true,\n      invoicesLoading: true,\n      invoices: [],\n      subscription: null\n    }\n  },\n  computed: {\n    packageName() {\n      let trial = ' (Trial)';\n      return this.subscription.package_name + (this.subscription.is_trial ? trial : '');\n    }\n  },\n  async mounted() {\n    await this.loadSubscription();\n    await this.loadInvoices();\n  },\n  methods: {\n    async loadSubscription() {\n      this.subscriptionLoading = true;\n      try {\n        let response = await axios.get('/api/auth/current-subscription');\n        this.subscription = response.data.subscription;\n      } catch (e) {\n        console.log(e);\n      }\n      this.subscriptionLoading = false;\n    },\n    async loadInvoices() {\n      this.invoicesLoading = true;\n      try {\n        let response = await axios.get('/api/auth/invoices');\n        this.invoices = response.data.invoices;\n      } catch (e) {\n        console.log(e);\n      }\n      this.invoicesLoading = false;\n    },\n    parseDate(timestamp) {\n      if (timestamp) {\n        return moment.unix(timestamp).format('D MMM Y HH:mm:ss');\n      } else {\n        return '-';\n      }\n    }\n  }\n}\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Billing.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Billing.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Billing.vue?vue&type=template&id=86d3aa80&\"\nimport script from \"./Billing.vue?vue&type=script&lang=js&\"\nexport * from \"./Billing.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('div',{staticClass:\"content\"},[_vm._m(0),(_vm.initialized === false)?_c('p',[_vm._v(\"Loading...\")]):_vm._e(),(_vm.initialized)?_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.submit($event)}}},[(_vm.hasError)?_c('div',{staticClass:\"alert alert-danger\"},[_vm._v(\"An error occurred!\")]):_vm._e(),_c('div',{staticClass:\"mb-2\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Name\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.name),expression:\"form.name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.form.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"name\", $event.target.value)}}})]),_c('div',{staticClass:\"mb-2\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.email),expression:\"form.email\"}],staticClass:\"form-control\",attrs:{\"type\":\"email\"},domProps:{\"value\":(_vm.form.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"email\", $event.target.value)}}})]),_c('div',{staticClass:\"mb-2\"},[_c('label',{staticClass:\"form-check-label\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.showPasswordField),expression:\"showPasswordField\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.showPasswordField)?_vm._i(_vm.showPasswordField,null)>-1:(_vm.showPasswordField)},on:{\"change\":function($event){var $$a=_vm.showPasswordField,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.showPasswordField=$$a.concat([$$v]))}else{$$i>-1&&(_vm.showPasswordField=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.showPasswordField=$$c}}}}),_vm._v(\" Change Password \")])]),(_vm.showPasswordField)?_c('div',{staticClass:\"mb-2\"},[_c('label',{staticClass:\"form-label\"},[_vm._v(\"Password\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.password),expression:\"form.password\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\"},domProps:{\"value\":(_vm.form.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"password\", $event.target.value)}}})]):_vm._e(),_c('div',[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\",\"disabled\":_vm.loading},on:{\"click\":_vm.submit}},[(_vm.loading)?_c('span',{staticClass:\"spinner-grow spinner-grow-sm\",attrs:{\"role\":\"status\",\"aria-hidden\":\"true\"}}):_vm._e(),_vm._v(\" Save \")])])]):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header\"},[_c('div',[_c('div',{staticClass:\"title\"},[_vm._v(\"Account\")]),_c('div',{staticClass:\"subtitle\"},[_vm._v(\"Update your account information\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"page\">\n    <div class=\"content\">\n      <div class=\"header\">\n        <div>\n          <div class=\"title\">Account</div>\n          <div class=\"subtitle\">Update your account information</div>\n        </div>\n      </div>\n      <p v-if=\"initialized === false\">Loading...</p>\n      <form @submit.prevent=\"submit\" v-if=\"initialized\">\n        <div v-if=\"hasError\" class=\"alert alert-danger\">An error occurred!</div>\n        <div class=\"mb-2\">\n          <label class=\"form-label\">Name</label>\n          <input type=\"text\" class=\"form-control\" v-model=\"form.name\" />\n        </div>\n        <div class=\"mb-2\">\n          <label class=\"form-label\">Email</label>\n          <input type=\"email\" class=\"form-control\" v-model=\"form.email\" />\n        </div>\n        <div class=\"mb-2\">\n          <label class=\"form-check-label\">\n            <input type=\"checkbox\" v-model=\"showPasswordField\" />\n            Change Password\n          </label>\n        </div>\n        <div class=\"mb-2\" v-if=\"showPasswordField\">\n          <label class=\"form-label\">Password</label>\n          <input type=\"password\" class=\"form-control\" v-model=\"form.password\" />\n        </div>\n        <div>\n          <button type=\"submit\" class=\"btn btn-primary\" @click=\"submit\" :disabled=\"loading\">\n            <span v-if=\"loading\" class=\"spinner-grow spinner-grow-sm\" role=\"status\" aria-hidden=\"true\"></span>\n            Save\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      initialized: false,\n      loading: true,\n      hasError: false,\n      showPasswordField: false,\n      form: {\n        name: null,\n        email: null,\n        password: null\n      }\n    }\n  },\n  async mounted() {\n    await this.loadUser();\n  },\n  methods: {\n    async loadUser() {\n      this.loading = true;\n      try {\n        let response = await axios.get('/api/auth/my-info');\n        this.form.name = response.data.user.name;\n        this.form.email = response.data.user.email;\n      } catch (e) {\n        console.log(e);\n        this.hasError = true;\n      } finally {\n        this.initialized = true;\n        this.loading = false;\n      }\n    },\n    async submit() {\n      this.loading = true;\n      this.hasError = false;\n      try {\n        let response = await axios.post('/api/auth/my-info', this.form);\n        this.$store.commit('updateUser', response.data);\n      } catch (e) {\n        this.hasError = true;\n        this.loading = false;\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n}\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Account.vue?vue&type=template&id=29c748e6&\"\nimport script from \"./Account.vue?vue&type=script&lang=js&\"\nexport * from \"./Account.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}