(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["settings_account"],{b0c0:function(e,t,a){var r=a("83ab"),s=a("9bf2").f,n=Function.prototype,i=n.toString,o=/^\s*function ([^ (]*)/,l="name";r&&!(l in n)&&s(n,l,{configurable:!0,get:function(){try{return i.call(this).match(o)[1]}catch(e){return""}}})},f613:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{role:"main"}},[a("div",{staticClass:"page"},[a("div",{staticClass:"content"},[e._m(0),!1===e.initialized?a("p",[e._v("Loading...")]):e._e(),e.initialized?a("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[e.hasError?a("div",{staticClass:"alert alert-danger"},[e._v("An error occurred!")]):e._e(),a("div",{staticClass:"mb-2"},[a("label",{staticClass:"form-label"},[e._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}})]),a("div",{staticClass:"mb-2"},[a("label",{staticClass:"form-label"},[e._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}})]),a("div",{staticClass:"mb-2"},[a("label",{staticClass:"form-check-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.showPasswordField,expression:"showPasswordField"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.showPasswordField)?e._i(e.showPasswordField,null)>-1:e.showPasswordField},on:{change:function(t){var a=e.showPasswordField,r=t.target,s=!!r.checked;if(Array.isArray(a)){var n=null,i=e._i(a,n);r.checked?i<0&&(e.showPasswordField=a.concat([n])):i>-1&&(e.showPasswordField=a.slice(0,i).concat(a.slice(i+1)))}else e.showPasswordField=s}}}),e._v(" Change Password ")])]),e.showPasswordField?a("div",{staticClass:"mb-2"},[a("label",{staticClass:"form-label"},[e._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}})]):e._e(),a("div",[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:e.loading},on:{click:e.submit}},[e.loading?a("span",{staticClass:"spinner-grow spinner-grow-sm",attrs:{role:"status","aria-hidden":"true"}}):e._e(),e._v(" Save ")])])]):e._e()])])])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("div",[a("div",{staticClass:"title"},[e._v("Account")]),a("div",{staticClass:"subtitle"},[e._v("Update your account information")])])])}],n=a("1da1"),i=(a("b0c0"),a("96cf"),a("bc3a")),o=a.n(i),l={data:function(){return{initialized:!1,loading:!0,hasError:!1,showPasswordField:!1,form:{name:null,email:null,password:null}}},mounted:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadUser();case 2:case"end":return t.stop()}}),t)})))()},methods:{loadUser:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,o.a.get("/api/auth/my-info");case 4:a=t.sent,e.form.name=a.data.user.name,e.form.email=a.data.user.email,t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0),e.hasError=!0;case 13:return t.prev=13,e.initialized=!0,e.loading=!1,t.finish(13);case 17:case"end":return t.stop()}}),t,null,[[1,9,13,17]])})))()},submit:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,e.hasError=!1,t.prev=2,t.next=5,o.a.post("/api/auth/my-info",e.form);case 5:a=t.sent,e.$store.commit("updateUser",a.data),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](2),e.hasError=!0,e.loading=!1;case 13:return t.prev=13,e.loading=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[2,9,13,16]])})))()}}},c=l,u=a("2877"),d=Object(u["a"])(c,r,s,!1,null,null,null);t["default"]=d.exports}}]);
//# sourceMappingURL=settings_account.2512bd18.js.map